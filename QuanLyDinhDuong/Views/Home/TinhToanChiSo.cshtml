
@{
    ViewBag.Title = "TinhToanChiSo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@using (Html.BeginForm())

{
    @Html.ValidationSummary(true)
    <style>
        .colorBackGround {
            background-image: url('../../images/people_tinhtoanchiso.jpg');
            height: 550px;
            width: 1260px;
        }

        .tinhtoanchiso {
            background: #2c3051;
            opacity: 95%;
            height: 550px;
            width: 1260px;
            position: relative;
        }

        .person {
            background-image: url('../../images/doctor_tinhtoanchiso.png');
            position: relative;
        }

        .textTinhToanChiSo {
            margin-top: -150px;
            padding-top: -100px;
            padding-left: 500px;
            position: relative;
            height: 200px;
            width: 400px;
        }

        .imgPerson {
            background-image: url('../../images/doctor_tinhtoanchiso.png');
            position: relative;
            height: 500px;
            width: 445px;
            padding-top: 200px;
            padding-left: 00px;
        }

        .txtNhap {
            margin-top: 10px;
            height: 30px;
            width: 280px;
            background: #2c3051;
            border: 1px solid white;
            text-align: center;
            font-weight: bold;
            color: white;
            font-size: 13px;
        }

        .btnNhap {
            margin-top: 50px;
            height: 30px;
            width: 200px;
            background: #6ab8ff;
            border: 1px solid #5c9acc;
            text-align: center;
            font-weight: bold;
            color: white;
            font-size: 13px;
        }

        #form2 {
            position: relative;
            margin-top: -238px;
            margin-left: 300px;
        }

        select {
            margin-top: -10px;
            height: 60px;
            width: 400px;
            padding: 16px 20px;
            border: none;
            border: 1px solid white;
            background-color: #2c3051;
            color: white;
        }

        #form3 {
            margin-top: 120px;
        }

        #form4 {
            margin-top: -140px;
            margin-left: 300px;
        }
    </style>


    <div class="colorBackGround">
        <div class="tinhtoanchiso">
            <div class="imgPerson">
                <div class="textTinhToanChiSo" style="font-family: 'Gill Sans', 'Gill Sans MT', 'Calibri', 'Trebuchet MS', sans-serif; color: white;
                            font-size: 24px;">
                    <b>Tính toán chỉ số</b><br>
                    <div style="font-size: 18px; margin-top: 5px;">
                        Nhập các thông tin vào để tính toán số liệu
                    </div>


                    <form action="#" method="post" name="nhapthongtin">


                        <input style="margin-top: 20px;" class="txtNhap" type="text" id="txtHoTen" name="hoten" placeholder="HỌ TÊN" value="@Model.HOTEN" />


                        <select id="chonGioiTinh" style="margin-top: 10px; width: 285px; height:80px" id="country" name="country">
                            <option value="nam">@Model.GIOITINH</option>
                            <option value="nu">@Model.GIOITINH</option>
                        </select>

                        <form>
                            <select id="chonMucDo" style="margin-top: 10px; margin-bottom:10px; width: 586px;" id="country" name="country">
                                <option id="vandongit" value="vandongit">Người ít vận động (thường là người lớn tuổi, người làm việc văn phòng)</option>
                                <option id="vandongnhe" value="vandongnhe">Người vận động nhẹ (người tập thể dục thể thao 1 – 3 lần/tuần)</option>
                                <option id="vandongvua" value="vandongvua">Người vận động vừa (người vận động hàng ngày, luyện tập 3 – 5 lần/tuần)</option>
                                <option id="vandongnang" value="vandongnang">Người vận động nặng (người lao động chân tay nhiều, di chuyển thường xuyên, vận động thường xuyên, tập luyện và chơi thể dục thể thao từ 6 – 7 lần/ tuần)</option>
                                <option id="vandongratnang" value="vandongratnang">Người vận động rất nặng (người lao động phổ thông, vận động viên tập luyện thể dục thể thao 2 lần/ngày)</option>
                            </select>
                        </form>
                        <input style="width: 586px;margin-top: 0px;margin-left: 0px;" class="btnNhap" type="submit" name="submit" onclick="TinhBMI()" value="TÍNH TOÁN" />
                    </form>

                    <div id="form2" action="#" method="post" name="nhapthongtin">
                        <input style="margin-top: -10px;" class="txtNhap" type="text" name="ngaysinh" placeholder="TUỔI TÁC" />
                        <input style="margin-top: 10px;" class="txtNhap" type="text" id="txtChieuCao" name="txtChieuCao" placeholder="CHIỀU CAO (CM)" value="@ViewData["Loi1"]" />

                        <input style="margin-bottom: 20px;" class="txtNhap" type="text" id="txtCanNang" name="cannang" placeholder="CÂN NẶNG (KG)" value="@ViewData["Loi2"]"  />
                    </div>

                    <div id="form3" style="font-size:17px; width:300px" action="#" method="post" name="nhapthongtin">
                        Chỉ số cơ thể BMI<input style="margin-top: 5px;" class="txtNhap" type="text" id="txtBMI" name="bmi" placeholder="CHỈ SỐ CƠ THỂ" /> <br />
                    </div>
                    <div style="text-align:center; font-size:17px; width:300px; margin-top:20px; margin-left:150px">
                        Phân loại cơ thể <input style="margin-top: 5px;" class="txtNhap" type="text" name="phanloaicothe" id="txtPhanLoaiCoThe" placeholder="PHÂN LOẠI CƠ THỂ" />
                    </div>

                    <div id="form4" style="font-size:17px; width:300px">
                        Lượng Calo trong một ngày cần tiêu thụ<input style="margin-top: 5px;" class="txtNhap" type="text" name="tdee" id="txtLuongCaloMotNgay" placeholder="LƯỢNG CALO MỘT NGÀY" />  <br />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var BMI, R, gioitinh;
        function LayGioiTinh() {
            gioitinh = document.getElementById("chonGioiTinh").value;
        }
        function TinhBMI() {
            //1.  lấy giá trị trong thẻ input người dùng nhập
            var chieucao = document.getElementById("txtChieuCao").value;
            var cannang = document.getElementById("txtCanNang").value;
            var mucdovandong = document.getElementById("chonMucDo").value;

            LayGioiTinh();
            if (mucdovandong.localeCompare("vandongit") == 0)
                R = 1.2;
            if (mucdovandong.localeCompare("vandongnhe") == 0)
                R = 1.375;
            if (mucdovandong.localeCompare("vandongvua") == 0)
                R = 1.55;
            if (mucdovandong.localeCompare("vandongnang") == 0)
                R = 1.725;
            if (mucdovandong.localeCompare("vandongratnang") == 0)
                R = 1.9;

            chieucao = parseFloat(chieucao) / 100; //2. chuyển kiểu dữ liệu về dạng số
            cannang = parseFloat(cannang);

            //3. tính toán
            BMI = cannang / (chieucao * chieucao);
            if (gioitinh.localeCompare("nam"))
                BMR = (13, 397 * cannang) + (4, 799 * chieucao) - (5, 677 * 20) + 88, 362
            else
                BMR = (9, 247 * cannang) + (3, 098 * chieucao) - (4, 330 * 20) + 447, 593
            var TDEE = BMR * R;
            //4. đưa giá trị tổng vào trong thẻ div kq.

            document.getElementById("txtBMI").value = BMI.toString();
            document.getElementById("txtLuongCaloMotNgay").value = TDEE.toString();
            //5. Gọi hàm tính tổng ở thuộc tính onClick trên nut bấm.
            funcPhanLoai();

        }

        function funcPhanLoai() {
            if (BMI < 16)
                document.getElementById("txtPhanLoaiCoThe").value = "Rất Óm";

            if (BMI >= 16 && BMI < 17)
                document.getElementById("txtPhanLoaiCoThe").value = "Óm";

            if (BMI >= 17 && BMI < 18.5)
                document.getElementById("txtPhanLoaiCoThe").value = "Óm Vừa";

            if (BMI >= 18.5 && BMI < 25)
                document.getElementById("txtPhanLoaiCoThe").value = "Cân Đối";

            if (BMI >= 25 && BMI < 30)
                document.getElementById("txtPhanLoaiCoThe").value = "Thừa Cân";

            if (BMI >= 30 && BMI < 35)
                document.getElementById("txtPhanLoaiCoThe").value = "Thừa Cân Loại 1";

            if (BMI >= 35 && BMI < 40)
                document.getElementById("txtPhanLoaiCoThe").value = "Thừa Cân Loại 2";

            if (BMI >= 40)
                document.getElementById("txtPhanLoaiCoThe").value = "Thừa Cân Loại 3";
        }
    </script>


}

